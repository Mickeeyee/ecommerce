{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">User Profile</h1>

    <!-- Display flash messages -->
   {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissable fade show" role="alert">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}


    <!-- Form to display and update user information -->
    <form method="POST">
        <div class="form-group">
            <label for="first_name"><strong>First Name</strong></label>
            <input type="text" class="form-control" id="first_name" name="first_name" value="{{ user.first_name }}" required>
        </div>

        <div class="form-group">
            <label for="last_name"><strong>Last Name</strong></label>
            <input type="text" class="form-control" id="last_name" name="last_name" value="{{ user.last_name }}" required>
        </div>

        <div class="form-group">
            <label for="email"><strong>Email</strong></label>
            <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required>
        </div>

        <div class="form-group">
            <label for="phone_number"><strong>Phone Number</strong></label>
            <input type="text" class="form-control" id="phone_number" name="phone_number" value="{{ user.phone_number }}" required>
        </div>

        <div class="form-group">
            <label for="address"><strong>Address</strong></label>
            <input type="text" class="form-control" id="address" name="address" value="{{ user.address }}">
        </div>

        <div class="form-group">
            <label for="postal_code"><strong>Postal Code</strong></label>
            <input type="text" class="form-control" id="postal_code" name="postal_code" value="{{ user.postal_code }}">
        </div>

        <div class="form-group">
            <label for="city"><strong>City</strong></label>
            <input type="text" class="form-control" id="city" name="city" value="{{ user.city }}">
        </div>

        <div class="form-group">
            <label for="province"><strong>Province</strong></label>
            <input type="text" class="form-control" id="province" name="province" value="{{ user.province }}">
        </div>

        <div class="form-group">
            <label for="country"><strong>Country</strong></label>
            <input type="text" class="form-control" id="country" name="country" value="{{ user.country }}">
        </div>

        <!-- Update and Cancel Buttons -->
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Update Profile</button>
            <a href="{{ url_for('views.home') }}" class="btn btn-secondary ml-2">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
