{% extends "base.html" %}

{% block content %}
<div class="container text-center mt-5">
    <h1 class="text-danger fw-bold">Payment Cancelled</h1>
    <p class="lead mt-3">Your payment was not completed. You can review your cart and try again.</p>
    <p>You will be redirected to your cart in <span id="countdown">5</span> seconds...</p>
    <a href="{{ url_for('views.view_cart') }}" class="btn btn-primary mt-3">Go to Cart</a>
</div>

<script>
    // Countdown timer for redirection
    let countdown = 5;
    const countdownElement = document.getElementById('countdown');
    const interval = setInterval(() => {
        countdown--;
        countdownElement.textContent = countdown;
        if (countdown === 0) {
            clearInterval(interval);
            window.location.href = "{{ url_for('views.view_cart') }}";
        }
    }, 1000);
</script>
{% endblock %}
